# PPT智能生成器前端界面

这是一个基于Web的PPT智能生成器前端界面，支持PPT大纲生成和每页内容生成，具有实时思考过程展示功能。

## 功能特性

- 🎯 **智能大纲生成**: 根据用户需求和参考内容生成PPT大纲
- 📄 **页面内容生成**: 基于大纲生成详细的PPT页面内容
- 🧠 **思考过程展示**: 实时显示AI的思考过程，具有透明度效果
- 📁 **文件上传支持**: 支持上传文本文件作为参考内容
- 🔄 **流式输出**: 支持WebSocket实时流式输出
- 📱 **响应式设计**: 适配桌面和移动设备
- 🎨 **现代化UI**: 美观的渐变背景和卡片式布局

## 文件结构

```
app/
├── index.html          # 主页面
├── styles.css          # 样式文件
├── script.js           # 前端逻辑
├── server.py           # 后端服务器
└── README.md           # 说明文档
```

## 快速开始

### 1. 安装依赖

确保已安装项目依赖：

```bash
cd /Users/tongtong/code/ppt-generate
pip install -e .
```

### 2. 设置环境变量（可选）

如果要使用真实的AI服务，请设置API密钥：

```bash
export DASHSCOPE_API_KEY="your-api-key-here"
```

如果未设置API密钥，系统将使用模拟数据进行演示。

### 3. 启动服务器

```bash
cd app
python server.py
```

服务器将在 `http://localhost:8080` 启动。

### 4. 访问界面

在浏览器中打开 `http://localhost:8080` 即可使用。

## 使用说明

### 基本流程

1. **输入需求**: 在"PPT主题需求"文本框中输入您的PPT主题
2. **添加参考内容**: 
   - 直接在"参考内容"文本框中粘贴文本
   - 或点击"上传文本文件"按钮上传文件
3. **生成大纲**: 点击"生成PPT大纲"按钮
4. **查看思考过程**: 在大纲生成过程中，可以查看AI的思考过程
5. **生成内容**: 大纲完成后，点击"生成PPT内容"按钮
6. **查看结果**: 查看生成的PPT页面内容

### 界面功能

#### 输入区域
- **PPT主题需求**: 必填，描述您想要的PPT主题
- **参考内容**: 可选，提供相关的参考资料
- **文件上传**: 支持 `.txt`, `.md`, `.doc`, `.docx` 格式

#### 思考过程展示
- 具有透明度效果的思考过程窗口
- 可以点击眼睛图标切换显示/隐藏
- 实时滚动显示AI的思考步骤

#### 状态指示器
- **准备中**: 灰色，等待开始
- **思考中**: 橙色，AI正在分析
- **生成中**: 蓝色，正在生成内容
- **已完成**: 绿色，生成完成

#### 结果展示
- **PPT大纲**: 结构化显示生成的大纲
- **PPT页面内容**: 逐页显示详细内容，包括标题、摘要、正文和建议

## 技术架构

### 前端技术
- **HTML5**: 语义化标记
- **CSS3**: 现代化样式，包括渐变、动画、响应式设计
- **JavaScript ES6+**: 模块化代码，WebSocket通信
- **Font Awesome**: 图标库

### 后端技术
- **Python 3.13+**: 后端语言
- **aiohttp**: 异步Web框架
- **WebSocket**: 实时通信
- **CORS**: 跨域支持

### 通信协议
- **HTTP REST API**: 基本的API接口
- **WebSocket**: 实时流式输出

## API接口

### REST API

#### 生成大纲
```
POST /api/generate-outline
Content-Type: application/json

{
    "query": "PPT主题需求",
    "reference_content": "参考内容"
}
```

#### 生成内容
```
POST /api/generate-content
Content-Type: application/json

{
    "outline": "PPT大纲",
    "reference_content": "参考内容"
}
```

### WebSocket API

连接地址: `ws://localhost:8080/api/ws`

#### 消息格式

发送消息:
```json
{
    "action": "generate_outline",
    "query": "PPT主题需求",
    "reference_content": "参考内容"
}
```

接收消息:
```json
{
    "type": "thinking",
    "content": "思考内容"
}
```

## 自定义配置

### 修改服务器配置

在 `server.py` 中可以修改:
- 服务器端口: 默认 8080
- API密钥配置
- CORS设置

### 修改前端样式

在 `styles.css` 中可以自定义:
- 颜色主题
- 布局样式
- 动画效果

### 修改功能逻辑

在 `script.js` 中可以修改:
- WebSocket连接逻辑
- 界面交互行为
- 数据处理方式

## 故障排除

### 常见问题

1. **WebSocket连接失败**
   - 检查服务器是否正常运行
   - 确认端口没有被占用
   - 查看浏览器控制台错误信息

2. **文件上传失败**
   - 检查文件格式是否支持
   - 确认文件大小不超过限制
   - 检查文件编码是否为UTF-8

3. **生成内容为空**
   - 检查API密钥是否正确设置
   - 查看服务器日志错误信息
   - 确认网络连接正常

### 调试模式

开启浏览器开发者工具，查看:
- Console: JavaScript错误和日志
- Network: API请求状态
- WebSocket: 实时通信数据

## 扩展开发

### 添加新功能

1. **新的生成模式**: 在后端添加新的API端点
2. **文件格式支持**: 扩展文件上传处理逻辑
3. **导出功能**: 添加PPT文件导出功能
4. **用户系统**: 集成用户认证和历史记录

### 性能优化

1. **缓存机制**: 添加生成结果缓存
2. **分页加载**: 对大量内容进行分页
3. **压缩优化**: 启用gzip压缩
4. **CDN加速**: 使用CDN加速静态资源

## 许可证

本项目遵循项目根目录的许可证协议。

## 贡献

欢迎提交Issue和Pull Request来改进这个项目。

---

如有问题，请查看项目文档或联系开发团队。